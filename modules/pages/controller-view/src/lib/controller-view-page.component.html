<div *libFeatureToolbarControls
     [libFeatureToolbarBreadcrumbs]="breadcrumbsDef$ | async"
></div>

@if (viewModel$ | async; as viewModel) {
    <mat-card>
        <mat-card-header>
            <mat-card-title class="controller-title">
                <mat-icon [fontIcon]="viewModel.controller.controllerType | controllerTypeIconName"></mat-icon>
                {{ viewModel.controller | controllerName | async }}
            </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <dl class="general-info">
                <dt>{{ 'controller.controllerType' | transloco }}</dt>
                <dd>
                    {{ viewModel.controller.controllerType | controllerTypeToL10nKey | transloco }}
                </dd>

                <dt>{{ 'controller.controllerConnectionState' | transloco }}</dt>
                <dd>
                    @if (viewModel.isConnected) {
                        {{ 'controller.controllerConnectionStateConnected' | transloco }}
                    } @else {
                        {{ 'controller.controllerConnectionStateDisconnected' | transloco }}
                    }
                </dd>
            </dl>
        </mat-card-content>
    </mat-card>

    <mat-card class="settings-card">
        <mat-card-header>
            <mat-card-title>
                <h2 class="title">{{ 'controller.controllerSettingsSection' | transloco }}</h2>
            </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <page-controller-view-controller-settings-container [controllerSettings]="viewModel.settings"
            ></page-controller-view-controller-settings-container>
        </mat-card-content>
    </mat-card>
} @else {
    <lib-hint>{{ 'controller.controllerNotFound' | transloco }}</lib-hint>
}
