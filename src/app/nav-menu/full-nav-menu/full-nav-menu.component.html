<mat-toolbar color="primary" class="toolbar">
  <nav class="nav">
    <h1 class="title">
      <a class="root-link" tabindex="-1" [routerLink]="routesBuilderService.root">
        {{ 'appName' | transloco }}
      </a>
    </h1>

    <span class="main-nav">
      <span class="main-nav-items">
        <a
          mat-button
          [routerLink]="routesBuilderService.controllersList"
          [routerLinkActive]="'active-link'"
          [attr.aria-label]="'nav.controllersList' | transloco"
        >
          <mat-icon [fontIcon]="'gamepad'"></mat-icon>
          {{ 'nav.controllersList' | transloco }}

          @if (connectedControllersCount) {
            <span class="counter"> ({{ connectedControllersCount }}) </span>
          }
        </a>

        <a mat-button [routerLink]="routesBuilderService.hubsList" [routerLinkActive]="'active-link'">
          <mat-icon [fontIcon]="'memory'"></mat-icon>
          {{ 'nav.hubsList' | transloco }}

          @if (connectedHubCount) {
            <span class="counter"> ({{ connectedHubCount }}) </span>
          }
        </a>

        <a mat-button [routerLink]="routesBuilderService.controlSchemesList" [routerLinkActive]="'active-link'">
          <mat-icon [fontIcon]="'display_settings'"></mat-icon>
          {{ 'nav.controlSchemesList' | transloco }}
          @if (controlSchemesCount) {
            <span class="counter"> ({{ controlSchemesCount }}) </span>
          }
        </a>
      </span>
    </span>

    <span class="right-side-nav">
      <app-discover-hub-button
        [isBluetoothAvailable]="isBluetoothAvailable"
        [isDiscoveryBusy]="isDiscoveryBusy"
        (discoveryStart)="onDiscoveryStart()"
      ></app-discover-hub-button>

      <button mat-icon-button [matMenuTriggerFor]="menu" [attr.aria-label]="'nav.navMenuAriaLabel' | transloco">
        <mat-icon [fontIcon]="'more_vert'"></mat-icon>
      </button>

      <mat-menu #menu="matMenu">
        <a
          mat-menu-item
          [routerLink]="routesBuilderService.settings"
          [routerLinkActive]="'active-link'"
          [attr.aria-label]="'nav.settingsPageButton' | transloco"
        >
          <mat-icon [fontIcon]="'settings'"></mat-icon>
          <span>{{ 'nav.settingsPageButton' | transloco }}</span>
        </a>
        <a mat-menu-item [routerLink]="routesBuilderService.help" [routerLinkActive]="'active-link'" [attr.aria-label]="'nav.help' | transloco">
          <mat-icon [fontIcon]="'help'"></mat-icon>
          <span>{{ 'nav.help' | transloco }}</span>
        </a>
        <a mat-menu-item [routerLink]="routesBuilderService.about" [routerLinkActive]="'active-link'" [attr.aria-label]="'nav.aboutPageButton' | transloco">
          <mat-icon [fontIcon]="'info'"></mat-icon>
          <span>{{ 'nav.aboutPageButton' | transloco }}</span>
        </a>
      </mat-menu>
    </span>
  </nav>
</mat-toolbar>
